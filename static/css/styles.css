*{box-sizing:border-box}body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;background:#f8fafc;color:#0b1220}
header{display:flex;align-items:center;justify-content:space-between;padding:18px 22px;background:#fff;border-bottom:1px solid #e5e7eb;position:sticky;top:0;z-index:10}
header h1{font-size:20px;margin:0}
header nav a{margin-left:12px;text-decoration:none;color:#374151}
.master-row{display:grid;grid-template-columns:1fr 1fr;gap:16px;padding:16px}
.grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;padding:16px}
.col h2{margin:8px 0 0 0}
.card{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:14px;box-shadow:0 1px 2px rgba(0,0,0,0.04);transition:border-color .2s, box-shadow .2s}
.card.active{border-color:#16a34a; box-shadow:0 0 0 2px rgba(22,163,74,.12), 0 12px 24px rgba(22,163,74,.12)}
.row{display:flex;gap:8px;align-items:center;margin:8px 0}
.row.between{justify-content:space-between}
.row input,.row select{flex:1;padding:10px 12px;border:1px solid #d1d5db;border-radius:10px;background:#fff}
.action,.secondary{padding:10px 14px;border-radius:12px;border:2px solid #e5e7eb;background:#0b1220;color:#fff;cursor:pointer}
.secondary{background:#f3f4f6;color:#0b1220}
.action.success{border-color:#16a34a;animation:flash 0.9s linear}
.action.error{border-color:#dc2626}
@keyframes flash{0%{border-color:#16a34a}50%{border-color:#86efac}100%{border-color:#e5e7eb}}
details.adv{margin-top:8px}
.adv-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.toggles{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
.desc{font-size:12px;color:#4b5563;margin-top:6px}
small{color:#6b7280}

/* Toolbar in cards */
.toolbar-card .toolbar{display:flex;align-items:center;justify-content:space-between;margin:-6px -6px 8px -6px;padding:6px 10px;border-bottom:1px dashed #e5e7eb}
.toolbar .left{display:flex;align-items:center;gap:8px}
.toolbar .right{display:flex;align-items:center;gap:10px}
.status-text{font-size:12px;color:#374151}
.count{font-variant-numeric:tabular-nums;background:#f3f4f6;border:1px solid #e5e7eb;border-radius:999px;padding:4px 8px;font-size:12px}

/* Traffic indicator dot */
.dot{width:10px;height:10px;border-radius:999px;background:#d1d5db;box-shadow:0 0 0 0 rgba(22,163,74,0);transition:background .2s}
.dot.active{background:#16a34a;animation:pulse 1.4s ease-in-out infinite}
.dot-idle{background:#d1d5db}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(22,163,74,.45)}
  70%{box-shadow:0 0 0 10px rgba(22,163,74,0)}
  100%{box-shadow:0 0 0 0 rgba(22,163,74,0)}
}

/* Toggle switch */
.switch{position:relative;display:inline-block;width:48px;height:28px}
.switch input{opacity:0;width:0;height:0}
.slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#e5e7eb;transition:.2s;border-radius:999px;border:1px solid #d1d5db}
.slider:before{position:absolute;content:"";height:22px;width:22px;left:3px;top:2px;background:white;border-radius:999px;transition:.2s;box-shadow:0 1px 2px rgba(0,0,0,.2)}
.switch input:checked + .slider{background:#16a34a;border-color:#16a34a}
.switch input:checked + .slider:before{transform:translateX(20px)}

/* Catalog/Product visuals */
.catalog{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;padding:16px}
.product{display:flex;flex-direction:column;text-decoration:none;color:inherit}
.product img{width:100%;height:160px;object-fit:cover;border-radius:12px;border:1px solid #eee}
.product .pinfo{padding:8px}
.product .name{font-weight:700}
.product .sku{font-size:12px;color:#666}
.product .price{font-weight:600;color:#16a34a}
.product-detail{display:grid;grid-template-columns:2fr 1fr;gap:16px;padding:16px}
.product-detail img{width:100%;border-radius:12px;border:1px solid #eee}
@media (max-width: 1100px){
  .grid{grid-template-columns:1fr}
  .master-row{grid-template-columns:1fr}
  .adv-grid,.toggles{grid-template-columns:1fr 1fr}
  .catalog{grid-template-columns:repeat(2,1fr)}
  .product-detail{grid-template-columns:1fr}
}